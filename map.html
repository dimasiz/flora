<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ä—Ç–∞ –ë–µ–ª–∞—Ä—É—Å–∏ - –§–ª–æ—Ä–∞ –∏ –§–∞—É–Ω–∞</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/map.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">üåø</span>
                <span class="logo-text">–§–ª–æ—Ä–∞–§–∞—É–Ω–∞</span>
            </a>
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="games.html" class="nav-link">–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞</a></li>
                    <li><a href="encyclopedia.html" class="nav-link">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</a></li>
                    <li><a href="map.html" class="nav-link active">–ö–∞—Ä—Ç–∞</a></li>
                </ul>
            </nav>
            <!-- Auth Buttons (visible when logged out) -->
            <div class="auth-buttons">
                <button class="auth-btn btn-login" onclick="openAuthModal('login')">–í–æ–π—Ç–∏</button>
                <button class="auth-btn btn-register" onclick="openAuthModal('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <!-- User Menu (visible when logged in) -->
            <div class="user-menu" style="display: none;">
                <a href="profile.html" class="user-profile-link">
                    <span class="user-avatar">ü¶ä</span>
                    <span class="user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                </a>
                <button class="auth-btn btn-logout" onclick="handleLogout()">–í—ã–π—Ç–∏</button>
            </div>
            
            <button class="mobile-menu-btn" aria-label="–ú–µ–Ω—é">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Auth Modal -->
    <div class="auth-modal" id="auth-modal" style="display: none;">
        <div class="auth-modal-overlay" onclick="closeAuthModal()"></div>
        <div class="auth-modal-content">
            <button class="close-modal-btn" onclick="closeAuthModal()">√ó</button>
            <div class="auth-form login-form" id="login-form">
                <div class="auth-form-header">
                    <span class="auth-form-icon">ü¶ä</span>
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                    <p>–í–æ–π–¥–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
                </div>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="login-email">üìß Email</label>
                        <input type="email" id="login-email" placeholder="—Ç–≤–æ–π@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">üîë –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="login-password" placeholder="–¢–≤–æ–π –ø–∞—Ä–æ–ª—å" required>
                    </div>
                    <div class="form-error" id="login-error"></div>
                    <button type="submit" class="auth-submit-btn">
                        <span>–í–æ–π—Ç–∏</span>
                        <span class="btn-icon">üöÄ</span>
                    </button>
                </form>
                <div class="auth-switch">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="switchAuthForm('register')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è!</a>
                </div>
            </div>
            <div class="auth-form register-form" id="register-form" style="display: none;">
                <div class="auth-form-header">
                    <span class="auth-form-icon">üéâ</span>
                    <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è!</h2>
                    <p>–°–æ–∑–¥–∞–π —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
                </div>
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label for="register-name">üë§ –¢–≤–æ—ë –∏–º—è</label>
                        <input type="text" id="register-name" placeholder="–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?" required minlength="2">
                    </div>
                    <div class="form-group">
                        <label for="register-email">üìß Email</label>
                        <input type="email" id="register-email" placeholder="—Ç–≤–æ–π@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">üîë –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password" placeholder="–ü—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤)" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="register-password-confirm">üîë –ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password-confirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å" required>
                    </div>
                    <div class="form-error" id="register-error"></div>
                    <button type="submit" class="auth-submit-btn">
                        <span>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
                        <span class="btn-icon">‚ú®</span>
                    </button>
                </form>
                <div class="auth-switch">
                    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="switchAuthForm('login')">–í–æ–π–¥–∏!</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content map-page">
        <div class="container">
            <div class="page-header">
                <h1 class="page-title">–ö–∞—Ä—Ç–∞ –ë–µ–ª–∞—Ä—É—Å–∏</h1>
                <p class="page-subtitle">–£–∑–Ω–∞–π, –≥–¥–µ –∂–∏–≤—É—Ç –∑–≤–µ—Ä–∏ –∏ —Ä–∞—Å—Ç—É—Ç —Ä–∞—Å—Ç–µ–Ω–∏—è!</p>
            </div>

            <!-- Map Legend -->
            <div class="map-legend">
                <div class="legend-item">
                    <span class="legend-icon animals">üêæ</span>
                    <span>–ñ–∏–≤–æ—Ç–Ω—ã–µ</span>
                </div>
                <div class="legend-item">
                    <span class="legend-icon plants">üå±</span>
                    <span>–†–∞—Å—Ç–µ–Ω–∏—è</span>
                </div>
                <div class="legend-hint">
                    <span>üí°</span>
                    –ù–∞–∂–º–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ!
                </div>
            </div>

            <!-- Interactive Map -->
            <div class="map-container">
                <div class="belarus-map" id="belarus-map">
                    <!-- Map Image Background -->
                    <div class="map-image-wrapper">
                        <img src="assets/images/belarus-map.png" alt="–ö–∞—Ä—Ç–∞ –ë–µ–ª–∞—Ä—É—Å–∏" class="map-base-image" id="map-image">
                        
                        <!-- Fallback SVG if image not loaded -->
                        <svg class="map-fallback-svg" viewBox="0 0 100 80" id="fallback-svg" preserveAspectRatio="xMidYMid meet">
                            <!-- –ì—Ä–æ–¥–Ω–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (–∑–µ–ª—ë–Ω–∞—è) -->
                            <path fill="#c8e6c9" stroke="#1a237e" stroke-width="0.3" d="
                                M 10,20 L 14,16 L 20,14 L 28,13 L 35,15
                                L 36,18 L 38,22 L 37,26 L 36,30 L 34,32
                                L 32,36 L 28,36 L 26,38 L 20,36 L 14,32 L 10,26 Z"/>
                            
                            <!-- –ë—Ä–µ—Å—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (—Å–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω–∞—è) -->
                            <path fill="#dcedc8" stroke="#1a237e" stroke-width="0.3" d="
                                M 10,26 L 14,32 L 20,36 L 26,38 L 28,40
                                L 32,42 L 32,46 L 35,50 L 36,50 L 38,54
                                L 38,58 L 35,64 L 28,68 L 18,68 L 12,64
                                L 8,56 L 8,46 L 8,36 Z"/>
                            
                            <!-- –ú–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (–±–∏—Ä—é–∑–æ–≤–∞—è) -->
                            <path fill="#b2dfdb" stroke="#1a237e" stroke-width="0.3" d="
                                M 35,15 L 45,13 L 55,14 L 60,18 L 60,22
                                L 58,26 L 58,30 L 60,34 L 58,38 L 58,42
                                L 56,46 L 55,50 L 50,52 L 48,54 L 42,54
                                L 40,52 L 36,50 L 35,50 L 32,46 L 32,42
                                L 28,40 L 26,38 L 28,36 L 32,36 L 34,32
                                L 36,30 L 37,26 L 38,22 L 36,18 Z"/>
                            
                            <!-- –í–∏—Ç–µ–±—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (–≥–æ–ª—É–±–∞—è) -->
                            <path fill="#b3e5fc" stroke="#1a237e" stroke-width="0.3" d="
                                M 55,14 L 65,12 L 75,14 L 82,20 L 85,28
                                L 86,34 L 84,36 L 78,40 L 70,38 L 65,36
                                L 62,34 L 60,34 L 58,30 L 58,26 L 60,22
                                L 60,18 Z"/>
                            
                            <!-- –ú–æ–≥–∏–ª—ë–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è) -->
                            <path fill="#e1bee7" stroke="#1a237e" stroke-width="0.3" d="
                                M 78,40 L 84,36 L 86,34 L 85,28 L 86,40
                                L 88,42 L 90,50 L 88,58 L 82,62 L 74,60
                                L 68,54 L 65,48 L 65,46 L 65,42 L 65,36
                                L 70,38 Z"/>
                            
                            <!-- –ì–æ–º–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (–æ—Ä–∞–Ω–∂–µ–≤–∞—è) -->
                            <path fill="#ffe0b2" stroke="#1a237e" stroke-width="0.3" d="
                                M 36,50 L 40,52 L 42,54 L 48,54 L 50,52
                                L 55,50 L 56,46 L 58,42 L 58,38 L 60,34
                                L 62,34 L 70,38 L 65,46 L 68,54 L 74,60
                                L 72,68 L 62,72 L 50,72 L 40,70 L 35,64
                                L 38,58 L 38,54 Z"/>
                            
                            <!-- –í–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç—É—Ä -->
                            <path fill="none" stroke="#1a237e" stroke-width="0.5" d="
                                M 10,20 L 14,16 L 20,14 L 28,13 L 35,15 L 45,13
                                L 55,14 L 65,12 L 75,14 L 82,20 L 85,28 L 88,42
                                L 90,50 L 88,58 L 82,62 L 74,60 L 72,68 L 62,72
                                L 50,72 L 40,70 L 35,64 L 28,68 L 18,68 L 12,64
                                L 8,56 L 8,46 L 8,36 L 10,26 Z"/>
                            
                            <!-- –ì–æ—Ä–æ–¥–∞ -->
                            <g class="cities">
                                <!-- –ú–∏–Ω—Å–∫ (—Å—Ç–æ–ª–∏—Ü–∞) -->
                                <circle cx="46" cy="36" r="1.3" fill="#D32F2F" stroke="#fff" stroke-width="0.3"/>
                                <text x="46" y="33" text-anchor="middle" font-family="Arial, sans-serif" font-size="3.2" font-weight="bold" fill="#1a237e">–ú–∏–Ω—Å–∫</text>
                                
                                <!-- –ì—Ä–æ–¥–Ω–æ -->
                                <circle cx="22" cy="26" r="0.9" fill="#5C6BC0" stroke="#fff" stroke-width="0.2"/>
                                <text x="22" y="23" text-anchor="middle" font-family="Arial, sans-serif" font-size="2.5" fill="#303F9F">–ì—Ä–æ–¥–Ω–æ</text>
                                
                                <!-- –ë—Ä–µ—Å—Ç -->
                                <circle cx="18" cy="56" r="0.9" fill="#5C6BC0" stroke="#fff" stroke-width="0.2"/>
                                <text x="18" y="53" text-anchor="middle" font-family="Arial, sans-serif" font-size="2.5" fill="#303F9F">–ë—Ä–µ—Å—Ç</text>
                                
                                <!-- –í–∏—Ç–µ–±—Å–∫ -->
                                <circle cx="72" cy="24" r="0.9" fill="#5C6BC0" stroke="#fff" stroke-width="0.2"/>
                                <text x="72" y="21" text-anchor="middle" font-family="Arial, sans-serif" font-size="2.5" fill="#303F9F">–í–∏—Ç–µ–±—Å–∫</text>
                                
                                <!-- –ú–æ–≥–∏–ª—ë–≤ -->
                                <circle cx="80" cy="48" r="0.9" fill="#5C6BC0" stroke="#fff" stroke-width="0.2"/>
                                <text x="80" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="2.5" fill="#303F9F">–ú–æ–≥–∏–ª—ë–≤</text>
                                
                                <!-- –ì–æ–º–µ–ª—å -->
                                <circle cx="65" cy="62" r="0.9" fill="#5C6BC0" stroke="#fff" stroke-width="0.2"/>
                                <text x="65" y="67" text-anchor="middle" font-family="Arial, sans-serif" font-size="2.5" fill="#303F9F">–ì–æ–º–µ–ª—å</text>
                            </g>
                        </svg>
                    </div>

                    <!-- Map Markers -->
                    <div class="map-markers" id="map-markers">
                        <!-- Markers will be added dynamically -->
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel" id="info-panel">
                <div class="info-panel-content">
                    <div class="info-placeholder">
                        <div class="placeholder-icon">üëÜ</div>
                        <p>–ù–∞–∂–º–∏ –Ω–∞ –ª—é–±—É—é –∏–∫–æ–Ω–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã!</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <span class="logo-icon">üåø</span>
                    <span>–§–ª–æ—Ä–∞–§–∞—É–Ω–∞</span>
                </div>
                <p class="footer-text">–û–±—É—á–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π ¬© 2026</p>
            </div>
        </div>
    </footer>

    <script src="js/firebase-config.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/map.js"></script>
</body>
</html>
