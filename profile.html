<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å - –§–ª–æ—Ä–∞ –∏ –§–∞—É–Ω–∞ –ë–µ–ª–∞—Ä—É—Å–∏</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">üåø</span>
                <span class="logo-text">–§–ª–æ—Ä–∞–§–∞—É–Ω–∞</span>
            </a>
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="games.html" class="nav-link">–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞</a></li>
                    <li><a href="encyclopedia.html" class="nav-link">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</a></li>
                    <li><a href="map.html" class="nav-link">–ö–∞—Ä—Ç–∞</a></li>
                </ul>
            </nav>
            
            <!-- Auth Buttons (visible when logged out) -->
            <div class="auth-buttons">
                <button class="auth-btn btn-login" onclick="openAuthModal('login')">–í–æ–π—Ç–∏</button>
                <button class="auth-btn btn-register" onclick="openAuthModal('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <!-- User Menu (visible when logged in) -->
            <div class="user-menu" style="display: none;">
                <a href="profile.html" class="user-profile-link">
                    <span class="user-avatar">ü¶ä</span>
                    <span class="user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                </a>
                <button class="auth-btn btn-logout" onclick="handleLogout()">–í—ã–π—Ç–∏</button>
            </div>
            
            <button class="mobile-menu-btn" aria-label="–ú–µ–Ω—é">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content profile-page">
        <div class="container">
            <!-- Not Logged In State -->
            <section class="not-logged-in" id="not-logged-in">
                <div class="login-prompt">
                    <div class="prompt-icon">üîê</div>
                    <h2>–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
                    <p>–ß—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</p>
                    <div class="prompt-buttons">
                        <button class="cta-button" onclick="openAuthModal('login')">
                            <span>–í–æ–π—Ç–∏</span>
                            <span class="btn-icon">üöÄ</span>
                        </button>
                        <button class="cta-button secondary" onclick="openAuthModal('register')">
                            <span>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                            <span class="btn-icon">‚ú®</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Logged In State -->
            <section class="profile-content" id="profile-content" style="display: none;">
                <!-- Profile Header -->
                <div class="profile-header">
                    <div class="profile-avatar-section">
                        <div class="profile-avatar" id="profile-avatar">ü¶ä</div>
                        <button class="change-avatar-btn" onclick="openAvatarModal()">–°–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
                    </div>
                    <div class="profile-info">
                        <h1 class="profile-name" id="profile-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                        <p class="profile-email" id="profile-email">email@example.com</p>
                        <p class="profile-date">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: <span id="profile-date">-</span></p>
                    </div>
                </div>

                <!-- Stats Overview -->
                <div class="stats-overview">
                    <div class="stat-card total-score">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="total-score">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –±–∞–ª–ª–æ–≤</div>
                    </div>
                    <div class="stat-card levels-completed">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" id="levels-completed">0</div>
                        <div class="stat-label">–£—Ä–æ–≤–Ω–µ–π –ø—Ä–æ–π–¥–µ–Ω–æ</div>
                    </div>
                    <div class="stat-card games-played">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-value" id="games-played">0</div>
                        <div class="stat-label">–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ</div>
                    </div>
                    <div class="stat-card achievements">
                        <div class="stat-icon">üéñÔ∏è</div>
                        <div class="stat-value" id="achievements-count">0</div>
                        <div class="stat-label">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
                    </div>
                </div>

                <!-- Games Progress -->
                <div class="games-progress-section">
                    <h2 class="section-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∏–≥—Ä–∞–º</h2>
                    <div class="games-progress-grid" id="games-progress">
                        <!-- Will be filled dynamically -->
                    </div>
                </div>

                <!-- Achievements -->
                <div class="achievements-section">
                    <h2 class="section-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
                    <div class="achievements-grid" id="achievements-grid">
                        <!-- Achievements will be filled dynamically -->
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="recent-activity-section">
                    <h2 class="section-title">–ù–µ–¥–∞–≤–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h2>
                    <div class="activity-list" id="activity-list">
                        <p class="no-activity">–ü–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ò–≥—Ä–∞–π –≤ –∏–≥—Ä—ã!</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Auth Modal -->
    <div class="auth-modal" id="auth-modal" style="display: none;">
        <div class="auth-modal-overlay" onclick="closeAuthModal()"></div>
        <div class="auth-modal-content">
            <button class="close-modal-btn" onclick="closeAuthModal()">√ó</button>
            
            <!-- Login Form -->
            <div class="auth-form login-form" id="login-form">
                <div class="auth-form-header">
                    <span class="auth-form-icon">ü¶ä</span>
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                    <p>–í–æ–π–¥–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
                </div>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="login-email">üìß Email</label>
                        <input type="email" id="login-email" placeholder="—Ç–≤–æ–π@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">üîë –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="login-password" placeholder="–¢–≤–æ–π –ø–∞—Ä–æ–ª—å" required>
                    </div>
                    <div class="form-error" id="login-error"></div>
                    <button type="submit" class="auth-submit-btn">
                        <span>–í–æ–π—Ç–∏</span>
                        <span class="btn-icon">üöÄ</span>
                    </button>
                </form>
                <div class="auth-switch">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="switchAuthForm('register')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è!</a>
                </div>
            </div>
            
            <!-- Register Form -->
            <div class="auth-form register-form" id="register-form" style="display: none;">
                <div class="auth-form-header">
                    <span class="auth-form-icon">üéâ</span>
                    <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è!</h2>
                    <p>–°–æ–∑–¥–∞–π —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
                </div>
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label for="register-name">üë§ –¢–≤–æ—ë –∏–º—è</label>
                        <input type="text" id="register-name" placeholder="–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?" required minlength="2">
                    </div>
                    <div class="form-group">
                        <label for="register-email">üìß Email</label>
                        <input type="email" id="register-email" placeholder="—Ç–≤–æ–π@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">üîë –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password" placeholder="–ü—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤)" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="register-password-confirm">üîë –ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password-confirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å" required>
                    </div>
                    <div class="form-error" id="register-error"></div>
                    <button type="submit" class="auth-submit-btn">
                        <span>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
                        <span class="btn-icon">‚ú®</span>
                    </button>
                </form>
                <div class="auth-switch">
                    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="switchAuthForm('login')">–í–æ–π–¥–∏!</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Avatar Modal -->
    <div class="avatar-modal" id="avatar-modal" style="display: none;">
        <div class="avatar-modal-overlay" onclick="closeAvatarModal()"></div>
        <div class="avatar-modal-content">
            <button class="close-modal-btn" onclick="closeAvatarModal()">√ó</button>
            <h2>–í—ã–±–µ—Ä–∏ –∞–≤–∞—Ç–∞—Ä</h2>
            <div class="avatar-grid" id="avatar-grid">
                <!-- Avatars will be filled dynamically -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <span class="logo-icon">üåø</span>
                    <span>–§–ª–æ—Ä–∞–§–∞—É–Ω–∞</span>
                </div>
                <p class="footer-text">–û–±—É—á–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π ¬© 2026</p>
            </div>
        </div>
    </footer>

    <script src="js/firebase-config.js"></script>
    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/debug-achievements.js"></script>
</body>
</html>






