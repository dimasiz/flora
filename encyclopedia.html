<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è - –§–ª–æ—Ä–∞ –∏ –§–∞—É–Ω–∞ –ë–µ–ª–∞—Ä—É—Å–∏</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/encyclopedia.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">üåø</span>
                <span class="logo-text">–§–ª–æ—Ä–∞–§–∞—É–Ω–∞</span>
            </a>
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="games.html" class="nav-link">–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞</a></li>
                    <li><a href="encyclopedia.html" class="nav-link active">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</a></li>
                    <li><a href="map.html" class="nav-link">–ö–∞—Ä—Ç–∞</a></li>
                </ul>
            </nav>
            <!-- Auth Buttons (visible when logged out) -->
            <div class="auth-buttons">
                <button class="auth-btn btn-login" onclick="openAuthModal('login')">–í–æ–π—Ç–∏</button>
                <button class="auth-btn btn-register" onclick="openAuthModal('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <!-- User Menu (visible when logged in) -->
            <div class="user-menu" style="display: none;">
                <a href="profile.html" class="user-profile-link">
                    <span class="user-avatar">ü¶ä</span>
                    <span class="user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                </a>
                <button class="auth-btn btn-logout" onclick="handleLogout()">–í—ã–π—Ç–∏</button>
            </div>
            
            <button class="mobile-menu-btn" aria-label="–ú–µ–Ω—é">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Auth Modal -->
    <div class="auth-modal" id="auth-modal" style="display: none;">
        <div class="auth-modal-overlay" onclick="closeAuthModal()"></div>
        <div class="auth-modal-content">
            <button class="close-modal-btn" onclick="closeAuthModal()">√ó</button>
            <div class="auth-form login-form" id="login-form">
                <div class="auth-form-header">
                    <span class="auth-form-icon">ü¶ä</span>
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                    <p>–í–æ–π–¥–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
                </div>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="login-email">üìß Email</label>
                        <input type="email" id="login-email" placeholder="—Ç–≤–æ–π@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">üîë –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="login-password" placeholder="–¢–≤–æ–π –ø–∞—Ä–æ–ª—å" required>
                    </div>
                    <div class="form-error" id="login-error"></div>
                    <button type="submit" class="auth-submit-btn">
                        <span>–í–æ–π—Ç–∏</span>
                        <span class="btn-icon">üöÄ</span>
                    </button>
                </form>
                <div class="auth-switch">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="switchAuthForm('register')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è!</a>
                </div>
            </div>
            <div class="auth-form register-form" id="register-form" style="display: none;">
                <div class="auth-form-header">
                    <span class="auth-form-icon">üéâ</span>
                    <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è!</h2>
                    <p>–°–æ–∑–¥–∞–π —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
                </div>
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label for="register-name">üë§ –¢–≤–æ—ë –∏–º—è</label>
                        <input type="text" id="register-name" placeholder="–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?" required minlength="2">
                    </div>
                    <div class="form-group">
                        <label for="register-email">üìß Email</label>
                        <input type="email" id="register-email" placeholder="—Ç–≤–æ–π@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">üîë –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password" placeholder="–ü—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤)" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="register-password-confirm">üîë –ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password-confirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å" required>
                    </div>
                    <div class="form-error" id="register-error"></div>
                    <button type="submit" class="auth-submit-btn">
                        <span>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
                        <span class="btn-icon">‚ú®</span>
                    </button>
                </form>
                <div class="auth-switch">
                    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="switchAuthForm('login')">–í–æ–π–¥–∏!</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content encyclopedia-page">
        <div class="container">
            <div class="page-header">
                <h1 class="page-title">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</h1>
                <p class="page-subtitle">–£–∑–Ω–∞–≤–∞–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö!</p>
            </div>

            <!-- Search and Filter Section -->
            <div class="search-filter-section">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –∏–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è..." autocomplete="off">
                    <button class="search-btn" id="search-btn">üîç</button>
                    <div class="search-suggestions" id="search-suggestions"></div>
                </div>
                
                <div class="filters">
                    <div class="filter-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="category" data-value="all">–í—Å–µ</button>
                            <button class="filter-btn" data-filter="category" data-value="animals">üêæ –ñ–∏–≤–æ—Ç–Ω—ã–µ</button>
                            <button class="filter-btn" data-filter="category" data-value="plants">üå± –†–∞—Å—Ç–µ–Ω–∏—è</button>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>–¢–∏–ø:</label>
                        <select id="type-filter" class="filter-select">
                            <option value="all">–í—Å–µ —Ç–∏–ø—ã</option>
                            <optgroup label="–ñ–∏–≤–æ—Ç–Ω—ã–µ">
                                <option value="mammals">–ú–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–∏–µ</option>
                                <option value="birds">–ü—Ç–∏—Ü—ã</option>
                                <option value="fish">–†—ã–±—ã</option>
                                <option value="insects">–ù–∞—Å–µ–∫–æ–º—ã–µ</option>
                            </optgroup>
                            <optgroup label="–†–∞—Å—Ç–µ–Ω–∏—è">
                                <option value="trees">–î–µ—Ä–µ–≤—å—è</option>
                                <option value="flowers">–¶–≤–µ—Ç—ã</option>
                                <option value="herbs">–¢—Ä–∞–≤—ã</option>
                            </optgroup>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>–ê—Ä–µ–∞–ª:</label>
                        <select id="habitat-filter" class="filter-select">
                            <option value="all">–í—Å–µ –∞—Ä–µ–∞–ª—ã</option>
                            <option value="forest">üå≤ –õ–µ—Å</option>
                            <option value="river">üåä –†–µ–∫–∞/–û–∑–µ—Ä–æ</option>
                            <option value="field">üåæ –ü–æ–ª–µ</option>
                            <option value="swamp">üåø –ë–æ–ª–æ—Ç–æ</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Cards Grid -->
            <div class="cards-grid" id="cards-grid">
                <!-- Cards will be loaded dynamically -->
            </div>

            <!-- No Results Message -->
            <div class="no-results" id="no-results" style="display: none;">
                <div class="no-results-icon">üîç</div>
                <p>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ —Å–ª–æ–≤–æ!</p>
            </div>
        </div>
    </main>

    <!-- Card Detail Modal -->
    <div class="card-modal" id="card-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="modal-close">‚úï</button>
            <div class="modal-image">
                <div id="modal-img" style="font-size: 8rem;"></div>
            </div>
            <div class="modal-info">
                <h2 class="modal-title" id="modal-title"></h2>
                <div class="modal-category" id="modal-category"></div>
                <div class="modal-facts" id="modal-facts">
                    <!-- Facts will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <span class="logo-icon">üåø</span>
                    <span>–§–ª–æ—Ä–∞–§–∞—É–Ω–∞</span>
                </div>
                <p class="footer-text">–û–±—É—á–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π ¬© 2026</p>
            </div>
        </div>
    </footer>

    <script src="js/firebase-config.js"></script>
    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/encyclopedia.js"></script>
</body>
</html>

